# Generated by using Rcpp::compileAttributes() -> do not edit by hand
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#' Running length of consecutive occurence
#'
#' Running length of consecutive occurence
#' @param x input logical vector where running whichrun is calculated.
#' @param k Running window size. By default window size equals \code{length(x)}.
#' @param which specifies whether first or last index is returned.
#' @param na_pad logical (default \code{na_pad=FALSE}) - if \code{TRUE} first k-results will be filled by \code{NA}. If k is not specified na_pad=F by default.
#' @param na_rm logical (default \code{na_rm=TRUE}) - if \code{TRUE} \code{NA} are replaced by last observed minimum prior to element.
#' @return numeric vector of length equals length of \code{x} containing running index of maximum in \code{k}-long window.
#' @examples
NULL

#' Running minimum window
#'
#' \code{min_run} calculates window-running min on given \code{x} numeric vector, specified \code{k} window size and additional options (\code{na_pad},\code{na_rm}) to handle missing values.
#' @param x input numeric vector where running minimum is calculated.
#' @param k Running window size. By default window size equals \code{length(x)}.
#' @param na_pad logical (default \code{na_pad=FALSE}) - if \code{TRUE} first k-results will be filled by \code{NA}. If k is not specified na_pad=F by default.
#' @param na_rm logical (default \code{na_rm=TRUE}) - if \code{TRUE} \code{NA} are replaced by last observed minimum prior to element.
#' @return numeric vector of length equals length of \code{x} containing running min in \code{k}-long window.
#' @examples
#' set.seed(11)
#' x1 <- sample(c(1,2,3), 15, replace=TRUE)
#' x2 <- sample(c(NA,1,2,3), 15, replace=TRUE)
#' k1 <- sample(1:4,15,replace=TRUE)
#' min_run(x1) # simple cumulative minimum
#' min_run(x2, na_rm = TRUE) # cumulative minimum with removing NA.
#' min_run(x2, na_rm = TRUE, k=4) # minimum in 4-element window
#' min_run(x2, na_rm = FALSE, k=k) # minimum in varying k window size
#' @export
min_run <- function(x, k = 0L, na_rm = TRUE, na_pad = FALSE) {
    .Call('_runner_min_run', PACKAGE = 'runner', x, k, na_rm, na_pad)
}

#' Running maximum window
#'
#' \code{max_run} calculates window-running max on given \code{x} numeric vector, specified \code{k} window size and additional options (\code{na_pad},\code{na_rm}) to handle missing values.
#' @param x input numeric vector where running maximum is calculated.
#' @param k Running window size. By default window size equals \code{length(x)}.
#' @param na_pad logical (default \code{na_pad=FALSE}) - if \code{TRUE} first k-results will be filled by \code{NA}. If k is not specified na_pad=F by default.
#' @param na_rm logical (default \code{na_rm=TRUE}) - if \code{TRUE} \code{NA} are replaced by last observed maximum prior to element.
#' @return numeric vector of length equals length of \code{x} containing running max in \code{k}-long window.
#' @examples
#' set.seed(11)
#' x1 <- sample(c(1,2,3), 15, replace=TRUE)
#' x2 <- sample(c(NA,1,2,3), 15, replace=TRUE)
#' k1 <- sample(1:4,15,replace=TRUE)
#' max_run(x1) # simple cumulative minimum
#' max_run(x2, na_rm = TRUE) # cumulative minimum with removing NA.
#' max_run(x2, na_rm = TRUE, k=4) # minimum in 4-element window
#' max_run(x2, na_rm = FALSE, k=k) # minimum in varying k window size
#' @export
max_run <- function(x, k = 0L, na_rm = TRUE, na_pad = FALSE) {
    .Call('_runner_max_run', PACKAGE = 'runner', x, k, na_rm, na_pad)
}

#' Streak length of vector elements
#'
#' Calculates series of consecutive elements
#' @param x Vector of any type on which consecutive streak is calculated
#' @param k Running window size. By default window size equals \code{length(x)}.
#' @param na_rm logical (default \code{na_rm=TRUE}) - if \code{TRUE} \code{NA} are replaced by last observed streak prior to element.
#' @param na_pad logical (default \code{na_pad=FALSE}) - if \code{TRUE} first k-results will be filled by \code{NA}. If k is not specified na_pad=F by default.
#' @return numeric vector of length equals length of \code{x} containing running streak length in \code{k}-long window.
#' @examples
#' set.seed(11)
#' x1 <- sample(c("a","b"),15,replace=TRUE)
#' x2 <- sample(c(NA_character_,"a","b"),15,replace=TRUE)
#' k <- sample(1:4,15,replace=TRUE)
#' streak_run(x1) # simple streak run
#' streak_run(x1, k=2) # streak run within 2-element window
#' streak_run(x2, na_pad=TRUE, k=3) # streak run within \code{k=3} element window and filled with NA at initial \code{k-1} elements
#' streak_run(x1, k=k) # streak run within varying window size specified by vector k
#' @export
streak_run <- function(x, k = 0L, na_rm = FALSE, na_pad = FALSE) {
    .Call('_runner_streak_run', PACKAGE = 'runner', x, k, na_rm, na_pad)
}

#' Fill NA with previous non-NA element
#'
#' Fill \code{NA} with last non-NA element.
#' @param x Vector of any type where \code{NA} are replaced
#' @param run_for_first If first elements are filled with \code{NA}, \code{run_for_first = TRUE } allows to fill all initial \code{NA} with nearest non-NA value. By befault \code{run_for_first = TRUE}
#' @param only_within \code{NA} are replaced only if previous and next non-NA values are the same. By befault \code{only_within = TRUE}
#' @return numeric vector of length equals length of \code{x} containing all \code{x} elements with \code{NA} replaced with previous non-NA element.
#' x <- c(NA,1,-1,NA, 1, 2,6,4)
#' max_run(x)
#' @export
fill_run <- function(x, run_for_first = FALSE, only_within = FALSE) {
    .Call('_runner_fill_run', PACKAGE = 'runner', x, run_for_first, only_within)
}

#' Running window mean
#'
#' @param x Vector of any type on which window mean is calculated
#' @param k Running window size. By default window size equals the \code{length(x)}.
#' @param na_rm logical (default \code{na_rm=TRUE}) - if \code{TRUE} mean is calulating excluding \code{NA}.
#' @param na_pad logical (default \code{na_pad=FALSE}) - if \code{TRUE} first k-results will be filled by \code{NA}. If k is not specified na_pad=F by default.
#' @return numeric vector of length equals length of \code{x} containing running mean in \code{k}-long window.
#' @examples
#' x <- c(NA,3,4,3,5,7,NA,2,4,9)
#' mean_run(x , k = 3, na_rm = TRUE, na_pad = FALSE)
#' @export
mean_run <- function(x, k = 0L, na_rm = TRUE, na_pad = FALSE) {
    .Call('_runner_mean_run', PACKAGE = 'runner', x, k, na_rm, na_pad)
}

#' Running window sum
#'
#' @param x Vector of any type on which running sum is calculated
#' @param k Running window size. By default window size equals \code{length(x)}.
#' @param na_rm logical (default \code{na_rm=TRUE}) - if \code{TRUE} sum is calulating excluding \code{NA}.
#' @param na_pad logical (default \code{na_pad=FALSE}) - if \code{TRUE} first k-results will be filled by \code{NA}. If k is not specified na_pad=F by default.
#' @return numeric vector of length equals length of \code{x} containing running window sum in \code{k}-long window.
#' @examples
#' x <- c(NA,3,4,3,5,7,NA,2,4,9)
#' sum_run(x , k = 3, na_rm = T, na_pad = F)
#' @export
sum_run <- function(x, k = 0L, na_rm = TRUE, na_pad = FALSE) {
    .Call('_runner_sum_run', PACKAGE = 'runner', x, k, na_rm, na_pad)
}

#' Running which-true function
#'
#' \code{whicht_run} Checking which element in running window has value TRUE, with specified \code{k} window size and additional options (\code{na_pad},\code{na_rm}) to handle missing values.
#' @param x input logical vector where running which-true is calculated.
#' @param k Running window size. By default window size equals \code{length(x)}.
#' @param which specifies whether first or last index is returned.
#' @param na_pad logical (default \code{na_pad=FALSE}) - if \code{TRUE} first k-results will be filled by \code{NA}. If k is not specified na_pad=F by default.
#' @param na_rm logical (default \code{na_rm=TRUE}) - if \code{TRUE} \code{NA} are replaced by last observed minimum prior to element.
#' @return numeric vector of length equals length of \code{x} containing running index in \code{k}-long window.
#' @examples
#' x <- c( NA, F, T, NA, T, F, T, T)
#'
#' whicht_run( x, k=2, na_rm=TRUE, na_pad=FALSE )
#' @export
whicht_run <- function(x, k = 0L, which = "last", na_rm = TRUE, na_pad = FALSE) {
    .Call('_runner_whicht_run', PACKAGE = 'runner', x, k, which, na_rm, na_pad)
}

#' Running index of maximum prior to i-th element
#'
#' Running position of max element prior to i-th element
#'
#' @param x input logical vector where running whichrun is calculated.
#' @param k Running window size. By default window size equals \code{length(x)}.
#' @param which specifies whether first or last index is returned.
#' @param na_pad logical (default \code{na_pad=FALSE}) - if \code{TRUE} first k-results will be filled by \code{NA}. If k is not specified na_pad=F by default.
#' @param na_rm logical (default \code{na_rm=TRUE}) - if \code{TRUE} \code{NA} are replaced by last observed minimum prior to element.
#' @return numeric vector of length equals length of \code{x} containing running index of maximum in \code{k}-long window.
#' @examples
#' x <- c(NA,NA,0,NA, 1, 2,-6,4)
#' whichmax_run(x)
#' @export
whichmax_run <- function(x, k = 0L, which = "last", na_rm = TRUE, na_pad = FALSE) {
    .Call('_runner_whichmax_run', PACKAGE = 'runner', x, k, which, na_rm, na_pad)
}

#'
#' @export
whichmin_run <- function(x, k = 0L, which = "last", na_rm = TRUE, na_pad = FALSE) {
    .Call('_runner_whichmin_run', PACKAGE = 'runner', x, k, which, na_rm, na_pad)
}

